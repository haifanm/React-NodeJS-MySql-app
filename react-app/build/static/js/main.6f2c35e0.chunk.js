(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{159:function(e,t,a){e.exports=a(292)},164:function(e,t,a){},199:function(e,t){},201:function(e,t){},211:function(e,t){},213:function(e,t){},238:function(e,t){},240:function(e,t){},241:function(e,t){},247:function(e,t){},249:function(e,t){},267:function(e,t){},270:function(e,t){},286:function(e,t){},289:function(e,t){},292:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(25),o=a.n(r),s=(a(164),a(15)),c=a(7),i=(a(87),a(8)),u=a(31),m=a.n(u),h=a(311),g=a(313),p=a(316),d=a(315),f=a(314),E=a(312),b=a(12),v=a(318),w=a(62),y=a.n(w),O=a(146),C=a(147),j=a(148),k=new(function(){function e(){Object(C.a)(this,e),this.authenticated=!1,this.token=""}return Object(j.a)(e,[{key:"login",value:function(e){this.authenticated=!0,this.token=e,console.log("login: this.authenticated = true; wtih token: "+this.token)}},{key:"logout",value:function(){this.authenticated=!1,console.log("logout: this.authenticated = false;"),this.token=""}},{key:"isAuthenticated",value:function(){return this.authenticated}},{key:"getToken",value:function(){return this.token}}]),e}()),q=a(40),S=a.n(q);function P(){var e=l.a.useState(k.isAuthenticated()),t=Object(i.a)(e,2),a=t[0],n=t[1];return l.a.createElement("div",null,a?l.a.createElement("nav",{className:"navbar"},l.a.createElement("h2",null,"Cogent App"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(s.b,{to:"/"},"Home")),l.a.createElement("li",null,l.a.createElement(s.b,{to:"/profile"},"Profile")),l.a.createElement("li",{onClick:function(){n(k.logout()),S.a.fire({position:"top-end",title:"You're logged out",showConfirmButton:!1,timer:1500})}},l.a.createElement(s.b,{className:"logoutButton",to:"/home"},"Logout")))):l.a.createElement("nav",{className:"navbar"},l.a.createElement("h2",null,"Cogent App"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(s.b,{to:"/"},"Home")),l.a.createElement("li",null,l.a.createElement(s.b,{to:"/login"},"Login")),l.a.createElement("li",null,l.a.createElement(s.b,{to:"/register"},"Register")))))}a(66);function A(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)([]),s=Object(i.a)(o,2),c=s[0],u=s[1];Object(n.useEffect)((function(){r(!0),p(),console.log(a)}),[]);var g=l.a.useMemo((function(){return[{Header:"Username",accessor:"username"},{Header:"Email",accessor:"email"},{Header:"Age",accessor:"age"},{Header:"Phone Number",accessor:"phone"},{Header:"Country",accessor:"country"},{Header:"Company",accessor:"company"}]}),[]),p=function(){m()({url:"/users",method:"GET"}).then((function(e){if(200===e.status){var t=e.data.results;u(t),console.log("GOT MY DATA :)"),console.log(c)}else console.log("response.message"),console.log(e.data.message)})).catch((function(e){console.log(e)})).finally((function(){r(!1)}))};return l.a.createElement("div",null,l.a.createElement(P,null),l.a.createElement("h1",null,"Our Users"),a?l.a.createElement(y.a,{className:"loading",type:"spin",color:"#19bb34",height:200}):l.a.createElement("div",{className:"profileDataDiv"},l.a.createElement(h.a,null),l.a.createElement(N,{columns:g,data:c})))}var x=Object(b.a)((function(e){return Object(v.a)({root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}})}))(E.a);function N(e){var t=e.columns,a=e.data,n=Object(O.useTable)({columns:t,data:a}),r=n.getTableProps,o=n.headerGroups,s=n.rows,c=n.prepareRow;return l.a.createElement(g.a,r(),l.a.createElement(f.a,null,o.map((function(e){return l.a.createElement(x,e.getHeaderGroupProps(),e.headers.map((function(e){return l.a.createElement(d.a,e.getHeaderProps(),e.render("Header"))})))}))),l.a.createElement(p.a,null,s.map((function(e,t){return c(e),l.a.createElement(x,e.getRowProps(),e.cells.map((function(e){return l.a.createElement(d.a,e.getCellProps(),e.render("Cell"))})))}))))}var T=a(317);function H(){var e=Object(c.g)(),t=Object(n.useState)(!0),a=Object(i.a)(t,2),r=a[0],o=a[1],s=Object(n.useState)({}),u=Object(i.a)(s,2),h=u[0],g=u[1];Object(n.useEffect)((function(){o(!0),p(),console.log(r)}),[]);var p=function(){var e={username:"haifanaim",token:k.getToken()};console.log("in function"),console.log(e),m()({url:"/profile",method:"GET",headers:{Authorization:"Bearer "+e.token}}).then((function(e){if(console.log("here?"),console.log(e),200===e.status){var t=e.data;g(t),console.log("GOT MY DATA :)"),console.log(t)}else console.log("response.message"),console.log(e.data.message)})).catch((function(e){console.log(e)})).finally((function(){o(!1)}))};return l.a.createElement("div",null,l.a.createElement(P,null),l.a.createElement("h1",null,"Your Profile"),r?l.a.createElement(y.a,{className:"loading",type:"spin",color:"#19bb34",height:200}):l.a.createElement("div",{className:"profileDataDiv"},l.a.createElement("h4",null,"Username: ",h.profile.username),l.a.createElement("h4",null,"Email: ",h.profile.email),l.a.createElement("h4",null,"Age: ",h.profile.age),l.a.createElement("h4",null,"Phone: ",h.profile.phone),l.a.createElement("h4",null,"Country: ",h.profile.country),l.a.createElement("h4",null,"Company: ",h.profile.company),l.a.createElement(T.a,{onClick:function(){return e.push("/editprofile")},variant:"contained",color:"Secondary"},"edit profile")))}function M(){var e=Object(c.g)();return l.a.createElement("div",null,l.a.createElement(P,null),l.a.createElement("h1",null,"profile edit"),l.a.createElement(T.a,{onClick:function(){return e.push("/profile")},variant:"contained",color:"Secondary"},"save changes"))}var F=a(5),L=a.n(F),B=a(19),D=a(56);var G=function(){var e=Object(c.g)(),t=l.a.useState(""),a=Object(i.a)(t,2),n=a[0],r=a[1],o=Object(D.b)({mode:"onChange"}),s=o.register,u=o.errors,h=o.handleSubmit,g=function(){var t=Object(B.a)(L.a.mark((function t(a){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:alert(JSON.stringify(a)),console.log(a),m()({url:"/auth/login",method:"POST",data:a}).then((function(t){console.log("here?"),console.log(t),200===t.status&&"loggedin"===t.data.message?(S.a.fire({position:"top-end",icon:"success",title:"Login Successful",showConfirmButton:!1,timer:1500}),r(),console.log("logged in:)!!!"),k.login(t.data.token),e.push("/home")):(console.log("response.message"),console.log(t.data.message),r(t.data.message))})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(P,null),l.a.createElement("form",{onSubmit:h(g)},l.a.createElement("h1",null,"Please fill in your information"),n?l.a.createElement("p",null,n):l.a.createElement("div",null),l.a.createElement("label",{htmlFor:"username"},"Username"),l.a.createElement("input",{name:"username",ref:s({required:"this is a required"})}),u.username&&l.a.createElement("p",null,u.username.message),l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{name:"password",ref:s({required:"this is required"})}),u.password&&l.a.createElement("p",null,u.password.message),l.a.createElement("input",{type:"submit"})))},U=a(151),z=a.n(U),I=a(154),J=a(152),Y=a.n(J);var R=function(){var e=Object(c.g)(),t=l.a.useState(""),a=Object(i.a)(t,2),n=a[0],r=a[1],o=Object(D.b)({mode:"onChange"}),s=o.register,u=o.errors,h=o.handleSubmit,g=o.watch,p=o.triggerValidation,d=o.control,f=function(){var t=Object(B.a)(L.a.mark((function t(a){var n;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return alert(JSON.stringify(a)),console.log(a),t.next=4,Y.a.hash(a.password,8);case 4:n=t.sent,a.password=n,console.log("pass: "+a.password),m()({url:"/auth/register",method:"POST",data:a}).then((function(t){console.log("here?"),console.log(t),200===t.status&&"added"===t.data.message?(S.a.fire({position:"top-end",icon:"success",title:"Account created",showConfirmButton:!1,timer:1500}),r(),console.log("registered:)!!!"),e.push("/home")):(console.log("response.message"),console.log(t.data.message),r(t.data.message))})).catch((function(e){console.log(e)}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(P,null),l.a.createElement("form",{onSubmit:h(f)},l.a.createElement("h1",null,"Please fill in your information"),n?l.a.createElement("p",null,n):l.a.createElement("div",null),l.a.createElement("label",{htmlFor:"username"},"Username"),l.a.createElement("input",{name:"username",ref:s({required:"this is a required",minLength:{value:3,message:"Min length is 3"},maxLength:{value:10,message:"Max length is 10"}})}),u.username&&l.a.createElement("p",null,u.username.message),l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{name:"email",type:"text",ref:s({required:"this is required",pattern:{value:/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,message:"Invalid email address"}})}),u.email&&l.a.createElement("p",null,u.email.message),l.a.createElement("label",{htmlFor:"age"},"Age"),l.a.createElement("input",{name:"age",type:"number",ref:s({required:"this is required",maxLength:{value:3,message:"Max length is 3"},pattern:{value:/^[0-9]+/,message:"Invalid age value"}})}),u.age&&l.a.createElement("p",null,u.age.message),l.a.createElement("label",{htmlFor:"phone"},"Phone Number"),l.a.createElement("input",{name:"phone",placeholder:"+96133333333",ref:s({required:"this is required",maxLength:{value:18,message:"Max length is 18"},pattern:{value:/^[+][0-9]+/,message:"Invalid age value"}})}),u.phone&&l.a.createElement("p",null,u.phone.message),l.a.createElement("label",{htmlFor:"country"},"Country"),l.a.createElement(D.a,{as:I.a,options:z()().getData(),name:"country",isClearable:!0,control:d,rules:{required:!0,message:"this is required"}}),u.country&&l.a.createElement("p",null,"this is required"),l.a.createElement("label",{htmlFor:"company"},"Company Name"),l.a.createElement("input",{name:"company",ref:s({required:"this is required",maxLength:{value:25,message:"Max length is 25"}})}),u.company&&l.a.createElement("p",null,u.company.message),l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{name:"password",ref:s({required:"this is required",minLength:{value:5,message:"Min length is 5"},maxLength:{value:15,message:"Max length is 15"}}),onChange:function(){p("passwordConfirm")}}),u.password&&l.a.createElement("p",null,u.password.message),l.a.createElement("label",{htmlFor:"passwordConfirm"},"Confirm Password"),l.a.createElement("input",{name:"passwordConfirm",ref:s({required:"this is required",validate:function(e){return e===g("password")||"Passwords do not match"}})}),u.passwordConfirm&&l.a.createElement("p",null,u.passwordConfirm.message),l.a.createElement("input",{type:"submit"})))};var Z=function(){return l.a.createElement(s.a,null,l.a.createElement("div",null,l.a.createElement(c.d,null,l.a.createElement(c.b,{path:"/register"},l.a.createElement(R,null)),l.a.createElement(c.b,{path:"/login"},l.a.createElement(G,null)),l.a.createElement(c.b,{path:"/profile"},l.a.createElement(H,null)),l.a.createElement(c.b,{path:"/editprofile"},l.a.createElement(M,null)),l.a.createElement(c.b,{path:"/home"},l.a.createElement(A,null)),l.a.createElement(c.b,{path:"/"},l.a.createElement(c.a,{to:"/home"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},66:function(e,t,a){},87:function(e,t,a){}},[[159,1,2]]]);
//# sourceMappingURL=main.6f2c35e0.chunk.js.map